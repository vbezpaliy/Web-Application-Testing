Cross-Site Request Forgery

http://www.webappsec.org/projects/threat/

Авторизированный на неуязвимом сайте, заходит на уязвимый (или специальную страницу злоумышленника), 
с которого отправляется запрос на совершение определенных действий.

Грубо говоря, в идеале это должно быть так. Пользователь авторизировался в системе платежей. 
Потом зашел на сайт злоумышленника или сайт с XSS-уязвимостью,с которого отправился запрос на перевод денег на счет злоумышленника.

Заставить пользователя посетить страницу

Для эксплуатации уязвимости злоумышленник может создать на своем сайте страницу содержащую ссылку на «изображение», после чего заставить пользователя перейти по ссылке на свой сайт

<img src="http://test.ptsecurity.ru/xcheck/send.asp?to=user@example.com&mess=Spam+The">
При обращении к странице браузер пользователя пытается загрузить изображение, для чего обращается к уязвимому приложению, т.е. 
оправляет сообщение электронной почты адресату, указанному в поле «to» запроса.


Страница на сервере злоумышленника может содержать готовую HTML-форму, автоматически отправляемую при просмотре страницы.

<html>
<body>
  <form method=POST action="http://test.ptsecurity.ru/xcheck/postsend.asp">
    Mail to:<br><br><input type=text name=to value="user2spam@example.com"><br><br> 
    Message:<br><br>
    <textarea width=20 name=mess>Spam The</textarea><br><br>
    <input type=submit id=doit>
  </form>
  <script>
    document.getElementById("doit").click();
  </script>
</body>
</html>
--------------------------------------------------------------------------------------------------------------
В случае с XSS злоумышленник получает возможность доступа к DOM (Document Object Model) уязвимой страницы, как на чтение, 
так и на запись. При выполнении CSRF атакущий имеет возможность передать запрос серверу с помощью браузера пользователя, 
но получить и проанализировать ответ сервера, а тем более его заголовок (например, Cookie) уже не сможет. Соответственно, 
«Подделка HTTP-запросов» позволяет работать с приложением в режиме «только на запись», чего впрочем, 
вполне достаточно для выполнения реальных атак.
